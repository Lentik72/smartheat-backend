(function(){var r=0,t=document.body.className.match(/seo-(\w+)/)?"seo-"+document.body.className.match(/seo-(\w+)/)[1]:"seo-page",c=document.body.getAttribute("data-zip")||null,e=window.location.pathname;e.startsWith("/supplier/")?t="supplier-profile":e.includes("-county")?t="seo-county":e.match(/\/[a-z]{2}\/index\.html$/)||e.match(/\/[a-z]{2}\/?$/)?t="seo-state":e.includes("long-island")||e.includes("hudson-valley")||e.includes("capital-region")||e.includes("shoreline")?t="seo-region":e.match(/\/prices\/[a-z]{2}\/[^\/]+$/)&&(t="seo-city");function p(s,a,i){var o=Date.now();if(!(o-r<500)){r=o;var n=/Mobi|Android/i.test(navigator.userAgent),d=/Android/i.test(navigator.userAgent),l=JSON.stringify({supplierId:s,supplierName:a,action:i,zipCode:c,pageSource:t,deviceType:n?"mobile":"desktop",platform:d?"android":n?"ios":"web"});if(navigator.sendBeacon?navigator.sendBeacon("https://www.gethomeheat.com/api/log-action",new Blob([l],{type:"application/json"})):fetch("https://www.gethomeheat.com/api/log-action",{method:"POST",headers:{"Content-Type":"application/json"},body:l,keepalive:!0}).catch(function(){}),typeof gtag=="function"){var u=i==="call"?"supplier_call_click":"supplier_outbound_click";gtag("event",u,{supplier_id:s,supplier_name:a,page_type:t})}}}document.addEventListener("click",function(s){var a=s.target.closest("a[data-supplier-id]");if(a){var i=a.getAttribute("data-supplier-id"),o=a.getAttribute("data-supplier-name"),n=a.getAttribute("data-action");i&&o&&n&&p(i,o,n)}})})();
