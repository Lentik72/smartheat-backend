(function(){var l=document.getElementById("android-waitlist-form");l&&l.addEventListener("submit",async function(n){n.preventDefault();var e=document.getElementById("android-email").value,i=document.getElementById("android-zip").value,r=document.getElementById("android-waitlist-form"),m=document.getElementById("android-waitlist-success");try{var p=await fetch("/api/waitlist/android",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,zip_code:i})});p.ok&&(r.style.display="none",m.style.display="block",typeof gtag=="function"&&gtag("event","android_waitlist_signup",{zip:i||"none"}))}catch(g){}});async function u(){try{var n=await fetch("/api/market/pulse");if(n.ok){var e=await n.json();if(e.supplierCount&&(document.getElementById("stat-suppliers").textContent=e.supplierCount+"+"),e.stateCount&&(document.getElementById("stat-states").textContent=e.stateCount),e.priceAvg){var i="$"+parseFloat(e.priceAvg).toFixed(2);document.getElementById("stat-avg-price").textContent=i,document.getElementById("teaser-avg-price").textContent=i}}}catch(r){}}u();var s=document.getElementById("hero-download-cta");s&&s.addEventListener("click",function(){typeof gtag=="function"&&gtag("event","app_download_click",{location:"hero"})});var c=document.getElementById("prices-cta");c&&c.addEventListener("click",function(){typeof gtag=="function"&&gtag("event","prices_cta_click",{location:"prices_teaser"})});var t=document.getElementById("screenshot-scroll"),o=document.getElementById("screenshot-wrapper");if(t&&o){let n=function(){var e=t.scrollWidth-t.clientWidth;t.scrollLeft>10?o.classList.add("scrolled-left"):o.classList.remove("scrolled-left"),t.scrollLeft>=e-10?o.classList.add("scrolled-right"):o.classList.remove("scrolled-right")};var v=n,a=!1,d,f;t.addEventListener("scroll",n),n(),t.addEventListener("mousedown",function(e){a=!0,d=e.pageX-t.offsetLeft,f=t.scrollLeft}),t.addEventListener("mouseleave",function(){a=!1}),t.addEventListener("mouseup",function(){a=!1}),t.addEventListener("mousemove",function(e){if(a){e.preventDefault();var i=e.pageX-t.offsetLeft,r=(i-d)*1.5;t.scrollLeft=f-r}})}})();
