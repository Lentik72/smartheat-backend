(function(){"use strict";var l=navigator.userAgent,m=/Android/i.test(l),g=/iPhone|iPad|iPod/i.test(l),u=/Mobi|Android|iPhone|iPad|iPod/i.test(l),p=!u,v=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;function d(i){var e=localStorage.getItem(i);if(!e)return!1;var t=10080*60*1e3;return Date.now()-parseInt(e,10)<t}function a(i){localStorage.setItem(i,Date.now().toString())}function n(i,e){typeof gtag=="function"&&gtag("event",i,e||{})}function w(){var i=window.location.pathname,e=i.split("/").filter(Boolean);if(e.length>0){var t=e[e.length-1];t.includes(".")&&(e=e.slice(0,-1))}return e.length>0?"../".repeat(e.length):""}function y(){if(!g||!u||v||d("floating-icon-dismissed"))return;var i=document.getElementById("floating-app-wrapper");if(!i)return;var e=i.querySelector(".floating-app-icon"),t=i.querySelector(".floating-app-dismiss"),o=!1,s=null;function c(){var r=window.innerHeight*.6+300;window.scrollY>r?!i.classList.contains("visible")&&!s&&(s=setTimeout(function(){i.classList.add("visible"),o||(o=!0,n("floating_icon_shown",{device:"ios"}))},2e3)):(s&&(clearTimeout(s),s=null),i.classList.remove("visible"))}window.addEventListener("scroll",c,{passive:!0}),t&&t.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),a("floating-icon-dismissed"),i.style.display="none",n("floating_icon_dismissed",{device:"ios"})}),e&&e.addEventListener("click",function(){a("floating-icon-dismissed"),n("floating_icon_click",{device:"ios"})})}function h(){if(!p||d("qr-widget-dismissed")||document.getElementById("qr-widget"))return;var i=w(),e=document.createElement("div");e.id="qr-widget",e.className="qr-widget",e.innerHTML='<button class="qr-dismiss" aria-label="Dismiss">&times;</button><a href="https://apps.apple.com/us/app/homeheat/id6747320571" target="_blank" class="qr-content"><img src="'+i+'images/app-icon.png" alt="HomeHeat" class="qr-app-icon"><div class="qr-text"><strong>Track your tank from your phone</strong><span>Scan with your iPhone camera to download free</span></div><img src="'+i+'images/qr-appstore.png" alt="QR Code" class="qr-code"></a>',e.style.display="none",document.body.appendChild(e);var t=null,o=!1;function s(){var c=window.innerHeight*.6+300;window.scrollY>c&&!o?t||(t=setTimeout(function(){e.style.display="",o=!0,n("qr_widget_shown",{device:"desktop"})},2e3)):!o&&t&&(clearTimeout(t),t=null)}window.addEventListener("scroll",s,{passive:!0}),e.querySelector(".qr-dismiss").addEventListener("click",function(){a("qr-widget-dismissed"),e.style.opacity="0",setTimeout(function(){e.remove()},300),n("qr_widget_dismissed",{device:"desktop"})}),e.querySelector(".qr-content").addEventListener("click",function(){n("qr_widget_click",{device:"desktop"})})}function q(){m?(document.querySelectorAll(".ios-only").forEach(function(i){i.style.display="none"}),document.querySelectorAll(".android-only").forEach(function(i){i.style.display="block"})):document.querySelectorAll(".android-only").forEach(function(i){i.style.display="none"})}function f(){q(),y(),setTimeout(h,2e3)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):f(),window.HomeHeatWidgets={track:n,isDismissedRecently:d,setDismissed:a}})();
