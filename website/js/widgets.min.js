(function(){"use strict";var o=navigator.userAgent,u=/Android/i.test(o),f=/iPhone|iPad|iPod/i.test(o),r=/Mobi|Android|iPhone|iPad|iPod/i.test(o),g=!r,m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;function a(e){var i=localStorage.getItem(e);if(!i)return!1;var n=10080*60*1e3;return Date.now()-parseInt(i,10)<n}function s(e){localStorage.setItem(e,Date.now().toString())}function t(e,i){typeof gtag=="function"&&gtag("event",e,i||{})}function p(){var e=window.location.pathname,i=e.split("/").filter(Boolean);if(i.length>0){var n=i[i.length-1];n.includes(".")&&(i=i.slice(0,-1))}return i.length>0?"../".repeat(i.length):""}function v(){if(!f||!r||m||a("floating-icon-dismissed"))return;var e=document.getElementById("floating-app-wrapper");if(!e)return;var i=e.querySelector(".floating-app-icon"),n=e.querySelector(".floating-app-dismiss"),c=!1;function h(){window.scrollY>300?e.classList.contains("visible")||(e.classList.add("visible"),c||(c=!0,t("floating_icon_shown",{device:"ios"}))):e.classList.remove("visible")}window.addEventListener("scroll",h,{passive:!0}),n&&n.addEventListener("click",function(l){l.preventDefault(),l.stopPropagation(),s("floating-icon-dismissed"),e.style.display="none",t("floating_icon_dismissed",{device:"ios"})}),i&&i.addEventListener("click",function(){s("floating-icon-dismissed"),t("floating_icon_click",{device:"ios"})})}function y(){if(g&&!a("qr-widget-dismissed")&&!document.getElementById("qr-widget")){var e=p(),i=document.createElement("div");i.id="qr-widget",i.className="qr-widget",i.innerHTML='<button class="qr-dismiss" aria-label="Dismiss">&times;</button><a href="https://apps.apple.com/us/app/homeheat/id6747320571" target="_blank" class="qr-content"><img src="'+e+'images/app-icon.png" alt="HomeHeat" class="qr-app-icon"><div class="qr-text"><strong>Track your tank from your phone</strong><span>Scan with your iPhone camera to download free</span></div><img src="'+e+'images/qr-appstore.png" alt="QR Code" class="qr-code"></a>',document.body.appendChild(i),t("qr_widget_shown",{device:"desktop"}),i.querySelector(".qr-dismiss").addEventListener("click",function(){s("qr-widget-dismissed"),i.style.opacity="0",setTimeout(function(){i.remove()},300),t("qr_widget_dismissed",{device:"desktop"})}),i.querySelector(".qr-content").addEventListener("click",function(){t("qr_widget_click",{device:"desktop"})})}}function w(){u?(document.querySelectorAll(".ios-only").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".android-only").forEach(function(e){e.style.display="block"})):document.querySelectorAll(".android-only").forEach(function(e){e.style.display="none"})}function d(){w(),v(),setTimeout(y,2e3)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d(),window.HomeHeatWidgets={track:t,isDismissedRecently:a,setDismissed:s}})();
