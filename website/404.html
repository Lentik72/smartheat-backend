<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HCNTVGNVJ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HCNTVGNVJ9');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Not Found | HomeHeat</title>
    <meta name="robots" content="noindex">

    <link rel="stylesheet" href="style.css?v=21">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.png">

<style>
.error-page {
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 40px 20px;
}

.error-page h1 {
    font-size: 4rem;
    color: #FF6B35;
    margin-bottom: 0.5rem;
}

.error-page h2 {
    font-size: 1.5rem;
    color: var(--text-primary, #333);
    margin-bottom: 1rem;
}

.error-page p {
    color: var(--text-muted, #666);
    margin-bottom: 2rem;
    max-width: 400px;
}

.error-links {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    justify-content: center;
}

.error-links a {
    padding: 12px 24px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
}

.error-links .primary-link {
    background: #FF6B35;
    color: white;
}

.error-links .secondary-link {
    border: 1px solid var(--border-color, #ddd);
    color: var(--text-primary, #333);
}

@media (prefers-color-scheme: dark) {
    .error-page h2 {
        color: #e5e5e5;
    }
    .error-links .secondary-link {
        border-color: #444;
        color: #e5e5e5;
    }
}
</style>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <img src="images/app-icon-small.png" alt="HomeHeat" class="nav-logo-icon">
                HomeHeat
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="prices.html">Prices</a></li>
                <li><a href="for-suppliers.html">For Suppliers</a></li>
                <li><a href="learn/">Learn</a></li>
                <li><a href="support.html">Support</a></li>
            </ul>
        </div>
    </nav>

    <main class="error-page">
        <h1>404</h1>
        <h2>Page Not Found</h2>
        <p>The page you're looking for doesn't exist or has been moved. Let's get you back on track.</p>

        <div class="error-links">
            <a href="/" class="primary-link">Go Home</a>
            <a href="prices.html" class="secondary-link">Check Prices</a>
        </div>
    </main>

    <!-- Floating App Download Icon (iOS mobile only) -->
    <div class="floating-app-wrapper ios-only" id="floating-app-wrapper">
        <button class="floating-app-dismiss" aria-label="Dismiss">&times;</button>
        <a href="https://apps.apple.com/us/app/homeheat/id6747320571" class="floating-app-icon" id="floating-app-cta">
            <img src="images/app-icon.png" alt="HomeHeat">
            <div class="float-text">
                <span class="float-title">Get HomeHeat</span>
                <span class="float-subtitle">Free on App Store</span>
            </div>
        </a>
    </div>

    <footer class="footer">
        <div class="footer-links">
            <a href="learn/">Learn</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
            <a href="support.html">Support</a>
        </div>
        <p class="footer-audience">Built for homeowners who rely on heating oil or propane.</p>
        <p>&copy; 2026 HomeHeat. All rights reserved.</p>
    </footer>

    <script src="js/nav.js"></script>
    <script src="js/pwa.js"></script>
    <script>
    (function() {
        var isAndroid = /Android/i.test(navigator.userAgent);
        var isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        var isDesktop = !isMobile;
        // Floating icon dismiss check
        function isFloatingIconDismissed() {
            var dismissed = localStorage.getItem('floating-icon-dismissed');
            if (!dismissed) return false;
            var sevenDays = 7 * 24 * 60 * 60 * 1000;
            return (Date.now() - parseInt(dismissed, 10)) < sevenDays;
        }

        var floatingWrapper = document.getElementById('floating-app-wrapper');
        var floatingIcon = document.getElementById('floating-app-cta');
        var floatingDismiss = floatingWrapper ? floatingWrapper.querySelector('.floating-app-dismiss') : null;

        // Floating icon - iOS mobile only (show immediately on 404)
        if (floatingWrapper && isMobile && !isAndroid && !isFloatingIconDismissed()) {
            floatingWrapper.classList.add('visible');
            if (floatingDismiss) {
                floatingDismiss.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    localStorage.setItem('floating-icon-dismissed', Date.now().toString());
                    floatingWrapper.classList.remove('visible');
                    if (typeof gtag === 'function') {
                        gtag('event', 'floating_icon_dismissed', { page: '404' });
                    }
                });
            }
            if (floatingIcon) {
                floatingIcon.addEventListener('click', function() {
                    localStorage.setItem('floating-icon-dismissed', Date.now().toString());
                    if (typeof gtag === 'function') {
                        gtag('event', 'app_download_click', { location: 'floating_icon', page: '404' });
                    }
                });
            }
        }

        // QR Widget - desktop only (7-day dismiss)
        function isQRDismissedRecently() {
            var dismissed = localStorage.getItem('qr-widget-dismissed');
            if (!dismissed) return false;
            var sevenDays = 7 * 24 * 60 * 60 * 1000;
            return (Date.now() - parseInt(dismissed, 10)) < sevenDays;
        }
        function showQRWidget() {
            if (!isDesktop) return;
            if (isQRDismissedRecently()) return;
            if (document.getElementById('qr-widget')) return;
            var widget = document.createElement('div');
            widget.id = 'qr-widget';
            widget.className = 'qr-widget';
            widget.innerHTML = '<button class="qr-dismiss" aria-label="Dismiss">&times;</button><a href="https://apps.apple.com/us/app/homeheat/id6747320571" target="_blank" class="qr-content"><img src="images/app-icon.png" alt="HomeHeat" class="qr-app-icon"><div class="qr-text"><strong>Track your tank from your phone</strong><span>Scan with your iPhone camera to download free</span></div><img src="https://api.qrserver.com/v1/create-qr-code/?size=144x144&data=https://apps.apple.com/us/app/homeheat/id6747320571" alt="QR Code" class="qr-code"></a>';
            document.body.appendChild(widget);
            widget.querySelector('.qr-dismiss').addEventListener('click', function() {
                localStorage.setItem('qr-widget-dismissed', Date.now().toString());
                widget.style.opacity = '0';
                setTimeout(function() { widget.remove(); }, 300);
                if (typeof gtag === 'function') { gtag('event', 'qr_widget_dismissed'); }
            });
            widget.querySelector('.qr-content').addEventListener('click', function() {
                if (typeof gtag === 'function') { gtag('event', 'qr_widget_click'); }
            });
            if (typeof gtag === 'function') { gtag('event', 'qr_widget_shown'); }
        }
        if (isDesktop) setTimeout(showQRWidget, 2000);

        // Hide iOS elements on Android
        if (isAndroid) {
            document.querySelectorAll('.ios-only').forEach(function(el) {
                el.style.display = 'none';
            });
        }

        // Track 404 error
        if (typeof gtag === 'function') {
            gtag('event', 'page_not_found', {
                page_path: window.location.pathname,
                referrer: document.referrer
            });
        }
    })();
    </script>
</body>
</html>
