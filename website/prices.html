<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HCNTVGNVJ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HCNTVGNVJ9');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heating Oil Prices Near You | HomeHeat</title>
    <meta name="description" content="Compare heating oil prices from local suppliers across the Northeast. Updated daily. Find the best deals in NY, CT, MA, NJ, PA, NH, RI, ME, MD, DE, VT, and VA.">

    <!-- OpenGraph meta tags for social sharing -->
    <meta property="og:title" content="Heating Oil Prices Near You | HomeHeat">
    <meta property="og:description" content="Check current heating oil prices by ZIP code. Compare local suppliers and save money on your next delivery.">
    <meta property="og:image" content="https://www.gethomeheat.com/images/screenshot-3-prices.png">
    <meta property="og:url" content="https://www.gethomeheat.com/prices.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Additional SEO -->
    <meta name="keywords" content="heating oil prices, heating oil cost, oil prices by zip code, cheap heating oil, heating oil comparison, heating oil NY, heating oil CT, heating oil MA, heating oil NJ, heating oil PA">
    <link rel="canonical" href="https://www.gethomeheat.com/prices.html">

    <link rel="stylesheet" href="style.css?v=22">

    <!-- Schema markup for SEO -->
    <script id="schema-markup" type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Heating Oil Prices Near You",
        "description": "Compare current heating oil prices from local suppliers across the Northeast United States.",
        "publisher": {
            "@type": "Organization",
            "name": "HomeHeat",
            "url": "https://www.gethomeheat.com"
        },
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.gethomeheat.com/"},
                {"@type": "ListItem", "position": 2, "name": "Prices"}
            ]
        },
        "mainEntity": {
            "@type": "ItemList",
            "name": "Heating Oil Price Comparison",
            "description": "Current heating oil prices from local suppliers",
            "numberOfItems": 0,
            "itemListElement": []
        }
    }
    </script>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.png">

    <!-- Apple Smart App Banner -->
    <meta name="apple-itunes-app" content="app-id=6747320571">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#FF6B35">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HomeHeat">

<style>
/* V2 Layout - Browse Bar First */
.browse-bar {
  background: var(--bg-secondary, #f8f9fa);
  border-bottom: 1px solid var(--border-color, #e9ecef);
  padding: 12px 0;
  position: sticky;
  top: 60px;
  z-index: 90;
}

.browse-bar-inner {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 20px;
}

.browse-label {
  font-size: 11px;
  color: var(--text-muted, #888);
  margin-bottom: 8px;
  display: block;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 500;
}

.state-tabs {
  display: flex;
  flex-wrap: nowrap;
  gap: 6px;
  justify-content: flex-start;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
  padding-bottom: 4px;
}

.state-tabs::-webkit-scrollbar {
  display: none;
}

@media (min-width: 900px) {
  .state-tabs {
    flex-wrap: wrap;
    justify-content: center;
    overflow-x: visible;
  }
}

.state-tab {
  padding: 6px 12px;
  background: var(--bg-primary, white);
  border: 1px solid var(--border-color, #ddd);
  border-radius: 16px;
  text-decoration: none;
  color: var(--text-primary, #333);
  font-size: 13px;
  font-weight: 500;
  transition: all 0.2s;
  white-space: nowrap;
}

.state-tab:hover {
  border-color: #FF6B35;
  color: #FF6B35;
}

.state-tab.active {
  background: #FF6B35;
  border-color: #FF6B35;
  color: white;
}

/* Hero Section - V2 keeps the original messaging */
.prices-hero-v2 {
  max-width: 700px;
  margin: 0 auto;
  padding: 30px 20px 20px;
  text-align: center;
}

.prices-hero-v2 .prices-hook {
  font-size: 14px;
  color: var(--text-muted, #666);
  margin-bottom: 8px;
}

.prices-hero-v2 h1 {
  font-size: 26px;
  margin-bottom: 8px;
  color: var(--text-primary, #1a1a1a);
  line-height: 1.3;
}

.prices-hero-v2 .prices-subtitle {
  font-size: 15px;
  color: var(--text-muted, #666);
  margin-bottom: 16px;
}

.prices-hero-v2 .market-pulse {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--text-primary, #333);
  margin-bottom: 4px;
}

.prices-hero-v2 .pulse-dot {
  width: 8px;
  height: 8px;
  background: #2d8a2d;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.prices-hero-v2 .market-trust {
  font-size: 12px;
  color: var(--text-muted, #888);
  margin-bottom: 20px;
}

.prices-hero-v2 .zip-form {
  display: flex;
  gap: 10px;
  justify-content: center;
  max-width: 340px;
  margin: 0 auto 16px;
}

.prices-hero-v2 .zip-form input {
  flex: 1;
  padding: 14px 16px;
  font-size: 16px;
  border: 2px solid var(--border-color, #ddd);
  border-radius: 8px;
  text-align: center;
  max-width: 140px;
  background: var(--bg-primary, white);
  color: var(--text-primary, #333);
}

.prices-hero-v2 .zip-form input:focus {
  outline: none;
  border-color: #FF6B35;
}

.prices-hero-v2 .zip-form button {
  padding: 14px 24px;
  background: #FF6B35;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.prices-hero-v2 .zip-form button:hover {
  background: #e55a2b;
}

.prices-hero-v2 .prices-app-hint {
  font-size: 13px;
  color: var(--text-muted, #666);
  margin-bottom: 8px;
}

.prices-hero-v2 .prices-app-hint a {
  color: #FF6B35;
  font-weight: 500;
}

.prices-hero-v2 .prices-trust {
  font-size: 12px;
  color: var(--text-muted, #999);
}

/* Leaderboard Section */
.leaderboard-v2 {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

.leaderboard-v2 h2 {
  text-align: center;
  font-size: 20px;
  color: var(--text-primary, #1a1a1a);
  margin-bottom: 4px;
}

.leaderboard-v2 .leaderboard-date {
  text-align: center;
  font-size: 13px;
  color: var(--text-muted, #888);
  margin-bottom: 24px;
}

.leaderboard-grid-v2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
}

@media (max-width: 768px) {
  .leaderboard-grid-v2 {
    grid-template-columns: 1fr;
  }
}

.leaderboard-card-v2 {
  background: var(--bg-primary, white);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  border: 1px solid var(--border-color, #eee);
}

.leaderboard-card-v2 h3 {
  font-size: 15px;
  color: var(--text-primary, #333);
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border-color, #eee);
  font-weight: 600;
}

/* State Averages Table */
.averages-table-v2 {
  width: 100%;
  border-collapse: collapse;
}

.averages-table-v2 tr {
  border-bottom: 1px solid var(--border-light, #f5f5f5);
}

.averages-table-v2 tr:last-child {
  border-bottom: none;
}

.averages-table-v2 td {
  padding: 10px 0;
  font-size: 14px;
}

.averages-table-v2 td:first-child a {
  color: var(--text-primary, #333);
  text-decoration: none;
  font-weight: 500;
}

.averages-table-v2 td:first-child a:hover {
  color: #FF6B35;
}

.averages-table-v2 td:nth-child(2) {
  color: #2d8a2d;
  font-weight: 600;
  text-align: right;
  padding-right: 12px;
}

.averages-table-v2 td:nth-child(3) {
  color: var(--text-muted, #999);
  font-size: 12px;
  text-align: right;
  padding-right: 12px;
}

.averages-table-v2 td:last-child {
  text-align: right;
}

.averages-table-v2 td:last-child a {
  color: #FF6B35;
  text-decoration: none;
  font-size: 12px;
  font-weight: 500;
}

/* Deals List */
.deals-list-v2 {
  list-style: none;
  padding: 0;
  margin: 0;
}

.deals-list-v2 li {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid var(--border-light, #f5f5f5);
}

.deals-list-v2 li:last-child {
  border-bottom: none;
}

.deals-list-v2 .deal-price {
  font-size: 16px;
  font-weight: 700;
  color: #2d8a2d;
  min-width: 72px;
}

.deals-list-v2 .deal-info {
  flex: 1;
}

.deals-list-v2 .deal-supplier {
  font-weight: 500;
  color: var(--text-primary, #333);
  font-size: 14px;
}

.deals-list-v2 .deal-location {
  color: var(--text-muted, #666);
  font-size: 12px;
}

.leaderboard-cta-v2 {
  text-align: center;
  margin-top: 20px;
  padding-top: 16px;
  font-size: 14px;
  color: var(--text-muted, #666);
}

.leaderboard-disclaimer-v2 {
  text-align: center;
  font-size: 12px;
  color: var(--text-muted, #999);
  margin-top: 12px;
}

/* Personalization Bar */
.personalization-bar {
  max-width: 700px;
  margin: 0 auto 0;
  padding: 16px 20px 0;
  text-align: center;
}

.personalization-bar .welcome-back {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--bg-secondary, #f0f7ff);
  border: 1px solid var(--border-color, #d0e3ff);
  border-radius: 20px;
  padding: 8px 16px;
  font-size: 13px;
  color: var(--text-primary, #333);
}

.personalization-bar .welcome-back a {
  color: #FF6B35;
  font-weight: 500;
  text-decoration: none;
}

.personalization-bar .near-you {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--text-muted, #666);
}

.personalization-bar .near-you a {
  color: #FF6B35;
  font-weight: 500;
  text-decoration: none;
}

/* Popular Regions */
.popular-regions {
  max-width: 700px;
  margin: 0 auto;
  padding: 0 20px 16px;
  text-align: center;
}

.popular-regions-label {
  font-size: 11px;
  color: var(--text-muted, #888);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.region-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}

.region-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  background: var(--bg-primary, white);
  border: 1px solid var(--border-color, #e0e0e0);
  border-radius: 16px;
  font-size: 13px;
  color: var(--text-primary, #333);
  text-decoration: none;
  transition: all 0.2s;
}

.region-chip:hover {
  border-color: #FF6B35;
  color: #FF6B35;
}

/* Price Alerts CTA */
.price-alerts-cta {
  max-width: 600px;
  margin: 24px auto;
  padding: 16px 20px;
  background: linear-gradient(135deg, #fff5f0 0%, #fff 100%);
  border: 1px solid #ffe0d0;
  border-radius: 12px;
  text-align: center;
}

.price-alerts-cta p {
  font-size: 14px;
  color: var(--text-primary, #333);
  margin-bottom: 8px;
}

.price-alerts-cta a {
  color: #FF6B35;
  font-weight: 600;
  text-decoration: none;
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  .browse-bar {
    background: #1e1e1e;
    border-color: #333;
  }
  .state-tab {
    background: #2a2a2a;
    border-color: #444;
    color: #e5e5e5;
  }
  .prices-hero-v2 h1 {
    color: #f5f5f5;
  }
  .prices-hero-v2 .prices-hook,
  .prices-hero-v2 .prices-subtitle {
    color: #aaa;
  }
  .prices-hero-v2 .market-pulse {
    color: #e5e5e5;
  }
  .prices-hero-v2 .zip-form input {
    background: #2a2a2a;
    border-color: #444;
    color: #e5e5e5;
  }
  .leaderboard-v2 h2 {
    color: #f5f5f5;
  }
  .leaderboard-card-v2 {
    background: #1e1e1e;
    border-color: #333;
  }
  .leaderboard-card-v2 h3 {
    color: #e5e5e5;
    border-color: #333;
  }
  .averages-table-v2 tr {
    border-color: #333;
  }
  .averages-table-v2 td:first-child a {
    color: #e5e5e5;
  }
  .deals-list-v2 li {
    border-color: #333;
  }
  .deals-list-v2 .deal-supplier {
    color: #e5e5e5;
  }
  .personalization-bar .welcome-back {
    background: #2a3a4a;
    border-color: #3a4a5a;
    color: #e5e5e5;
  }
  .region-chip {
    background: #2a2a2a;
    border-color: #444;
    color: #e5e5e5;
  }
  .price-alerts-cta {
    background: linear-gradient(135deg, #2a2020 0%, #1e1e1e 100%);
    border-color: #4a3030;
  }
  .price-alerts-cta p {
    color: #e5e5e5;
  }
}

/* Floating App Download Icon */
.floating-app-icon {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 10px;
    background: white;
    padding: 8px 16px 8px 8px;
    border-radius: 50px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    text-decoration: none;
    transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s;
    opacity: 0;
    transform: translateY(20px);
}

.floating-app-icon.visible {
    opacity: 1;
    transform: translateY(0);
}

.floating-app-icon:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 24px rgba(0,0,0,0.2);
}

.floating-app-icon img {
    width: 40px;
    height: 40px;
    border-radius: 10px;
}

.floating-app-icon .float-text {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
}

.floating-app-icon .float-title {
    font-size: 13px;
    font-weight: 600;
    color: #333;
}

.floating-app-icon .float-subtitle {
    font-size: 11px;
    color: #FF6B35;
}

@media (max-width: 480px) {
    .floating-app-icon {
        bottom: 16px;
        right: 16px;
        padding: 6px 12px 6px 6px;
    }
    .floating-app-icon img {
        width: 36px;
        height: 36px;
    }
    .floating-app-icon .float-title {
        font-size: 12px;
    }
}

@media (prefers-color-scheme: dark) {
    .floating-app-icon {
        background: #2a2a2a;
        box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }
    .floating-app-icon .float-title {
        color: #e5e5e5;
    }
}
</style>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <img src="images/app-icon-small.png" alt="HomeHeat" class="nav-logo-icon">
                HomeHeat
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="prices.html" class="active">Prices</a></li>
                <li><a href="for-suppliers.html">For Suppliers</a></li>
                <li><a href="learn/">Learn</a></li>
                <li><a href="support.html">Support</a></li>
            </ul>
        </div>
    </nav>

    <!-- Browse Bar - State Navigation (NEW in V2) -->
    <div class="browse-bar">
        <div class="browse-bar-inner">
            <span class="browse-label">Browse by State</span>
            <div class="state-tabs">
                <a href="prices/ny/" class="state-tab">New York</a>
                <a href="prices/ct/" class="state-tab">Connecticut</a>
                <a href="prices/ma/" class="state-tab">Massachusetts</a>
                <a href="prices/nj/" class="state-tab">New Jersey</a>
                <a href="prices/pa/" class="state-tab">Pennsylvania</a>
                <a href="prices/nh/" class="state-tab">New Hampshire</a>
                <a href="prices/ri/" class="state-tab">Rhode Island</a>
                <a href="prices/me/" class="state-tab">Maine</a>
                <a href="prices/md/" class="state-tab">Maryland</a>
                <a href="prices/de/" class="state-tab">Delaware</a>
                <a href="prices/va/" class="state-tab">Virginia</a>
                <a href="prices/ak/" class="state-tab">Alaska</a>
            </div>
        </div>
    </div>

    <!-- Personalization Bar (shown via JS based on localStorage or IP) -->
    <div id="personalization-bar" class="personalization-bar" style="display: none;">
        <!-- Option A: Returning user with saved ZIP -->
        <div id="welcome-back" class="welcome-back" style="display: none;">
            <span>Welcome back</span>
            <span>¬∑</span>
            <span>Last searched: <a id="last-zip-link" href="#">10701 (Yonkers, NY)</a></span>
        </div>
        <!-- Option B: IP geolocation detected -->
        <div id="near-you" class="near-you" style="display: none;">
            <span>üìç</span>
            <span>Prices near <a id="near-you-link" href="prices/ny/long-island.html">Long Island</a> ¬∑ <span id="near-you-count">45</span> suppliers</span>
        </div>
    </div>

    <!-- Hero Section - All Original Messaging Preserved -->
    <section class="prices-hero-v2">
        <p class="prices-hook">Most homeowners don't know how much oil they have left.</p>
        <h1>Check today's prices.<br>Plan ahead in the app.</h1>
        <p class="prices-subtitle">Prices tell you what oil costs today ‚Äî the app tells you when you'll need it.</p>

        <!-- Market Pulse - Live stats from API -->
        <div class="market-pulse">
            <span class="pulse-dot"></span>
            <span>Live market snapshot</span>
            <span>¬∑</span>
            <span id="pulse-suppliers">430+</span> active suppliers across <span id="pulse-states">12</span> states
        </div>
        <p class="market-trust">Prices come directly from supplier websites or verified updates.</p>

        <form id="zip-form" class="zip-form">
            <input
                type="text"
                id="zip-input"
                placeholder="ZIP code"
                maxlength="5"
                pattern="[0-9]{5}"
                inputmode="numeric"
                autocomplete="postal-code"
                required
            >
            <button type="submit" id="check-btn">Check Prices</button>
        </form>

        <p class="prices-app-hint ios-only">The app predicts when you'll need oil ‚Äî before it's urgent. <a href="https://apps.apple.com/us/app/homeheat/id6747320571">Get HomeHeat free ‚Üí</a></p>
        <p id="prices-trust" class="prices-trust">Tracking prices from 430+ active heating oil suppliers in our network.</p>
    </section>

    <!-- Popular Regions - Quick Access -->
    <div class="popular-regions">
        <p class="popular-regions-label">Popular Regions</p>
        <div class="region-chips">
            <a href="prices/ny/long-island.html" class="region-chip">Long Island</a>
            <a href="prices/ny/hudson-valley.html" class="region-chip">Hudson Valley</a>
            <a href="prices/ny/westchester-county.html" class="region-chip">Westchester</a>
            <a href="prices/ct/fairfield-county.html" class="region-chip">Fairfield County</a>
            <a href="prices/nj/bergen-county.html" class="region-chip">Bergen County</a>
            <a href="prices/md/howard-county.html" class="region-chip">Howard County</a>
        </div>
    </div>

    <!-- Default Leaderboard - National Dashboard -->
    <section id="default-leaderboard" class="leaderboard-v2">
        <h2>Today's Heating Oil Prices Across the Northeast</h2>
        <p class="leaderboard-date" id="leaderboard-date">Updated February 6, 2026</p>

        <div class="leaderboard-grid-v2">
            <!-- State Averages -->
            <div class="leaderboard-card-v2">
                <h3>Average Prices by State</h3>
                <table class="averages-table-v2">
                    <tbody>
                        <tr>
                            <td><a href="prices/me/">Maine</a></td>
                            <td>$3.33 avg</td>
                            <td>5 suppliers</td>
                            <td><a href="prices/me/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/nh/">New Hampshire</a></td>
                            <td>$3.57 avg</td>
                            <td>19 suppliers</td>
                            <td><a href="prices/nh/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/ri/">Rhode Island</a></td>
                            <td>$3.63 avg</td>
                            <td>6 suppliers</td>
                            <td><a href="prices/ri/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/nj/">New Jersey</a></td>
                            <td>$3.70 avg</td>
                            <td>15 suppliers</td>
                            <td><a href="prices/nj/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/ct/">Connecticut</a></td>
                            <td>$3.72 avg</td>
                            <td>33 suppliers</td>
                            <td><a href="prices/ct/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/ma/">Massachusetts</a></td>
                            <td>$3.76 avg</td>
                            <td>50 suppliers</td>
                            <td><a href="prices/ma/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/pa/">Pennsylvania</a></td>
                            <td>$3.78 avg</td>
                            <td>10 suppliers</td>
                            <td><a href="prices/pa/">See all ‚Üí</a></td>
                        </tr>
                        <tr>
                            <td><a href="prices/ny/">New York</a></td>
                            <td>$3.92 avg</td>
                            <td>31 suppliers</td>
                            <td><a href="prices/ny/">See all ‚Üí</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Top Deals -->
            <div class="leaderboard-card-v2">
                <h3>Top 5 Deals in the Northeast</h3>
                <ul class="deals-list-v2">
                    <li>
                        <span class="deal-price">$3.10/gal</span>
                        <div class="deal-info">
                            <div class="deal-supplier">Eagle Petroleum</div>
                            <div class="deal-location">Trenton, NJ</div>
                        </div>
                    </li>
                    <li>
                        <span class="deal-price">$3.15/gal</span>
                        <div class="deal-info">
                            <div class="deal-supplier">Buxton Oil</div>
                            <div class="deal-location">Raymond, NH</div>
                        </div>
                    </li>
                    <li>
                        <span class="deal-price">$3.20/gal</span>
                        <div class="deal-info">
                            <div class="deal-supplier">E-Z Oil Company</div>
                            <div class="deal-location">Hartford, CT</div>
                        </div>
                    </li>
                    <li>
                        <span class="deal-price">$3.29/gal</span>
                        <div class="deal-info">
                            <div class="deal-supplier">Precision Heating Oil</div>
                            <div class="deal-location">Miller Place, NY</div>
                        </div>
                    </li>
                    <li>
                        <span class="deal-price">$3.30/gal</span>
                        <div class="deal-info">
                            <div class="deal-supplier">Cleaves Energy</div>
                            <div class="deal-location">Buxton, ME</div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <p class="leaderboard-cta-v2">Enter your ZIP code above for prices in your exact area.</p>
        <p class="leaderboard-disclaimer-v2">Prices shown are COD (cash on delivery) rates reported by suppliers. Actual prices may vary.</p>

        <!-- Price Alerts CTA -->
        <div class="price-alerts-cta ios-only">
            <p>Want to know when prices drop in your area?</p>
            <a href="https://apps.apple.com/us/app/homeheat/id6747320571">Get price alerts in the app ‚Üí</a>
        </div>
    </section>

    <!-- Loading State -->
    <section id="loading-state" class="prices-section" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Loading prices...</p>
    </section>

    <!-- Results Section -->
    <section id="results-section" class="prices-section" style="display: none;">
        <!-- Price Movement Signal -->
        <div id="price-movement" class="price-movement" style="display: none;">
            <span id="movement-icon"></span>
            <span id="movement-text"></span>
        </div>

        <!-- Price Summary Card -->
        <div class="price-summary">
            <div class="price-summary-header">
                <h2>Prices in <span id="result-location">your area</span></h2>
                <span id="freshness" class="freshness-badge">Updated recently</span>
            </div>

            <div class="price-range">
                <div class="price-low">
                    <span class="price-label">Lowest</span>
                    <span id="lowest-price" class="price-value">‚Äî</span>
                </div>
                <div class="price-high">
                    <span class="price-label">Highest</span>
                    <span id="highest-price" class="price-value">‚Äî</span>
                </div>
            </div>

            <div id="savings-potential" class="savings-callout" style="display: none;">
                Save up to <strong>$0</strong> on 200 gallons
            </div>

            <p class="min-gallons-note">Most suppliers require a 150-200 gallon minimum order.</p>
        </div>

        <!-- Supplier List -->
        <div class="supplier-list">
            <h3>Suppliers in Your Area</h3>
            <div id="supplier-cards"></div>
        </div>

        <!-- Confidence Disclaimer -->
        <p class="price-disclaimer">
            Prices based on most recent publicly available data. May vary by delivery volume and payment method.
        </p>

        <!-- Supplier Contribution Hint -->
        <p class="supplier-contribution-hint ios-only">
            Don't see your supplier? <a href="https://apps.apple.com/us/app/homeheat/id6747320571">Add them in the app</a> ‚Äî suppliers and users can contribute pricing data.
        </p>

        <!-- Share Button -->
        <div class="share-section">
            <button id="share-btn" class="share-button">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                    <polyline points="16 6 12 2 8 6"></polyline>
                    <line x1="12" y1="2" x2="12" y2="15"></line>
                </svg>
                Share this price range
            </button>
            <span id="share-feedback" class="share-feedback"></span>
        </div>

        <!-- Bookmark Hint -->
        <div id="bookmark-hint" class="bookmark-hint" style="display: none;">
            Tip: Bookmark this page to quickly check prices in your area.
        </div>
    </section>

    <!-- Empty State -->
    <section id="empty-state" class="prices-section" style="display: none;">
        <div class="empty-state-content">
            <div class="empty-icon">üìç</div>
            <h2>No suppliers found</h2>
            <p>We don't have pricing data for <span id="empty-zip">your area</span> yet.</p>
            <p class="empty-coverage">Coverage is strongest in NY, CT, NJ, MA, PA, NH, RI, and ME. We're expanding daily.</p>
            <p class="empty-suggestion ios-only">Know a local supplier? <a href="https://apps.apple.com/us/app/homeheat/id6747320571">Add them in the app</a> ‚Äî it helps everyone.</p>
            <div class="empty-app-pitch ios-only">
                <p class="empty-app-cta-strong">Even without local prices, the app can help.</p>
                <p class="empty-app-cta">HomeHeat tracks your tank level and predicts when you'll run out ‚Äî no matter where you live.</p>
                <a href="https://apps.apple.com/us/app/homeheat/id6747320571" class="empty-app-button">Get HomeHeat Free ‚Üí</a>
            </div>
        </div>
    </section>

    <!-- Error State -->
    <section id="error-state" class="prices-section" style="display: none;">
        <div class="error-state-content">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h2>Something went wrong</h2>
            <p id="error-message">We couldn't load prices right now. Please try again.</p>
            <button id="retry-btn" class="retry-button">Try Again</button>
        </div>
    </section>

    <!-- Soft App CTA with Public vs App Framing -->
    <section id="app-cta" class="app-cta-section" style="display: none;">
        <div class="app-cta-framing">
            <p class="framing-line">This page shows today's market prices.</p>
            <p class="framing-line-bold">The app predicts when your tank will run out ‚Äî before it's an emergency.</p>
        </div>
        <div class="app-cta-features">
            <div class="app-cta-feature">
                <span>üõ¢Ô∏è</span>
                <span>Tank Tracking</span>
            </div>
            <div class="app-cta-feature">
                <span>‚è±Ô∏è</span>
                <span>Run-Out Predictions</span>
            </div>
            <div class="app-cta-feature">
                <span>üîî</span>
                <span>Smart Alerts</span>
            </div>
        </div>
        <a href="https://apps.apple.com/us/app/homeheat/id6747320571?utm_source=web_prices&utm_medium=website&utm_campaign=price_lookup" class="app-download-card ios-only">
            <img src="images/app-icon.png" alt="HomeHeat App Icon">
            <div class="app-download-info">
                <div class="app-name">HomeHeat</div>
                <div class="app-subtitle">Oil & Propane Tracker</div>
                <div class="app-cta">Download on the App Store ‚Üí</div>
            </div>
        </a>
        <p class="app-micro-copy">No sensors needed. Uses your usage and local weather data.</p>
        <p class="app-micro-copy-small">Free. No hardware. No ads.</p>
    </section>

    <!-- Why Prices Differ (Collapsible) -->
    <section class="faq-section">
        <details class="faq-details">
            <summary>Why do prices differ between suppliers?</summary>
            <div class="faq-content">
                <ul>
                    <li><strong>Delivery volume:</strong> Larger orders (200+ gallons) often get better per-gallon rates.</li>
                    <li><strong>Payment method:</strong> COD (cash on delivery) prices are typically lower than credit/budget plans.</li>
                    <li><strong>Location:</strong> Suppliers closer to terminals or in high-density areas may offer lower prices.</li>
                </ul>
            </div>
        </details>
    </section>

    <!-- Related Guides - Internal Linking for SEO -->
    <section class="related-guides">
        <h3>Heating Oil Guides</h3>
        <ul>
            <li><a href="learn/heating-oil-usage.html">How to Estimate Heating Oil Usage</a></li>
            <li><a href="learn/heating-oil-winter.html">How Long Does Heating Oil Last in Winter?</a></li>
            <li><a href="learn/measure-heating-oil.html">How to Measure Oil Without a Gauge</a></li>
        </ul>
    </section>

    <!-- Floating App Download Icon (iOS mobile only) -->
    <div class="floating-app-wrapper ios-only" id="floating-app-wrapper">
        <button class="floating-app-dismiss" aria-label="Dismiss">&times;</button>
        <a href="https://apps.apple.com/us/app/homeheat/id6747320571" class="floating-app-icon" id="floating-app-cta">
            <img src="images/app-icon.png" alt="HomeHeat">
            <div class="float-text">
                <span class="float-title">Get HomeHeat</span>
                <span class="float-subtitle">Free on App Store</span>
            </div>
        </a>
    </div>

    <footer class="footer">
        <div class="footer-locations">
            <p class="footer-locations-title">Popular Locations</p>
            <div class="footer-locations-links">
                <a href="prices/ny/">New York</a>
                <a href="prices/ct/">Connecticut</a>
                <a href="prices/ma/">Massachusetts</a>
                <a href="prices/nj/">New Jersey</a>
                <a href="prices/pa/">Pennsylvania</a>
                <a href="prices/nh/">New Hampshire</a>
                <a href="prices/me/">Maine</a>
                <a href="prices/ri/">Rhode Island</a>
                <a href="prices/md/">Maryland</a>
                <a href="prices/ny/long-island.html">Long Island</a>
                <a href="prices/ny/hudson-valley.html">Hudson Valley</a>
                <a href="prices/ny/westchester-county.html">Westchester County</a>
                <a href="prices/ct/fairfield-county.html">Fairfield County</a>
                <a href="prices/md/howard-county.html">Howard County</a>
                <a href="prices/md/columbia.html">Columbia, MD</a>
            </div>
        </div>
        <div class="footer-links">
            <a href="learn/">Learn</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
            <a href="support.html">Support</a>
            <a href="mailto:support@gethomeheat.com">Contact</a>
        </div>
        <p class="footer-supplier-cta">Are you a heating oil supplier? <a href="for-suppliers.html">Claim your listing</a></p>
        <p class="footer-audience">Built for homeowners who rely on heating oil or propane.</p>
        <p>&copy; 2026 HomeHeat. All rights reserved.</p>
    </footer>

    <script src="js/nav.js"></script>
    <script src="js/prices.js?v=9"></script>
    <script src="js/widgets.js"></script>
    <script src="js/pwa.js"></script>

    <!-- Personalization Logic -->
    <script>
    (function() {
        const COVERED_STATES = {
            'NY': { name: 'New York', path: 'prices/ny/', suppliers: 91 },
            'CT': { name: 'Connecticut', path: 'prices/ct/', suppliers: 33 },
            'MA': { name: 'Massachusetts', path: 'prices/ma/', suppliers: 50 },
            'NJ': { name: 'New Jersey', path: 'prices/nj/', suppliers: 15 },
            'PA': { name: 'Pennsylvania', path: 'prices/pa/', suppliers: 10 },
            'NH': { name: 'New Hampshire', path: 'prices/nh/', suppliers: 19 },
            'RI': { name: 'Rhode Island', path: 'prices/ri/', suppliers: 6 },
            'ME': { name: 'Maine', path: 'prices/me/', suppliers: 5 },
            'MD': { name: 'Maryland', path: 'prices/md/', suppliers: 8 },
            'DE': { name: 'Delaware', path: 'prices/de/', suppliers: 3 },
            'VA': { name: 'Virginia', path: 'prices/va/', suppliers: 6 },
            'AK': { name: 'Alaska', path: 'prices/ak/', suppliers: 3 }
        };

        // Check for returning user with saved ZIP
        function checkLastSearch() {
            try {
                const lastSearch = localStorage.getItem('homeheat_last_zip');
                if (lastSearch) {
                    const data = JSON.parse(lastSearch);
                    if (data.zip && data.location) {
                        showWelcomeBack(data.zip, data.location, data.state);
                        return true;
                    }
                }
            } catch (e) {}
            return false;
        }

        // Show welcome back message
        function showWelcomeBack(zip, location, state) {
            const bar = document.getElementById('personalization-bar');
            const welcomeBack = document.getElementById('welcome-back');
            const lastZipLink = document.getElementById('last-zip-link');

            if (bar && welcomeBack && lastZipLink) {
                lastZipLink.textContent = `${zip} (${location})`;
                lastZipLink.href = `?zip=${zip}`;
                lastZipLink.onclick = function(e) {
                    e.preventDefault();
                    document.getElementById('zip-input').value = zip;
                    document.getElementById('zip-form').dispatchEvent(new Event('submit'));
                };
                welcomeBack.style.display = 'inline-flex';
                bar.style.display = 'block';

                // Highlight state tab if known
                if (state && COVERED_STATES[state]) {
                    highlightStateTab(state);
                }
            }
        }

        // Show near you message (IP-based)
        function showNearYou(state, region, supplierCount) {
            const bar = document.getElementById('personalization-bar');
            const nearYou = document.getElementById('near-you');
            const nearYouLink = document.getElementById('near-you-link');
            const nearYouCount = document.getElementById('near-you-count');

            if (bar && nearYou && nearYouLink) {
                nearYouLink.textContent = region || COVERED_STATES[state]?.name || state;
                nearYouLink.href = COVERED_STATES[state]?.path || '#';
                nearYouCount.textContent = supplierCount || COVERED_STATES[state]?.suppliers || '10+';
                nearYou.style.display = 'inline-flex';
                bar.style.display = 'block';

                highlightStateTab(state);
            }
        }

        // Highlight state tab
        function highlightStateTab(state) {
            const tabs = document.querySelectorAll('.state-tab');
            const stateInfo = COVERED_STATES[state];
            if (!stateInfo) return;

            tabs.forEach(tab => {
                if (tab.href.includes(stateInfo.path)) {
                    tab.classList.add('active');
                    // Scroll tab into view on mobile
                    tab.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                }
            });
        }

        // IP Geolocation (using free service, no API key needed)
        async function detectLocation() {
            try {
                // Use ipapi.co free tier (no API key, 1000 req/day)
                const response = await fetch('https://ipapi.co/json/', {
                    timeout: 3000,
                    cache: 'default'
                });
                if (!response.ok) return null;

                const data = await response.json();
                if (data.region_code && COVERED_STATES[data.region_code]) {
                    return {
                        state: data.region_code,
                        city: data.city,
                        region: data.city
                    };
                }
            } catch (e) {
                // Silently fail - personalization is optional
            }
            return null;
        }

        // Initialize personalization
        async function init() {
            // Priority 1: Check for returning user
            if (checkLastSearch()) {
                return;
            }

            // Priority 2: Try IP geolocation
            const location = await detectLocation();
            if (location) {
                showNearYou(location.state, location.city);
            }
        }

        // Run on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Save ZIP searches for returning user experience
        window.addEventListener('homeheat:zip-searched', function(e) {
            if (e.detail && e.detail.zip && e.detail.location) {
                try {
                    localStorage.setItem('homeheat_last_zip', JSON.stringify({
                        zip: e.detail.zip,
                        location: e.detail.location,
                        state: e.detail.state,
                        timestamp: Date.now()
                    }));
                } catch (e) {}
            }
        });

    })();
    </script>
</body>
</html>
